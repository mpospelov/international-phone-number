/*! international-phone-number 2017-08-01 */
(function(){"use strict";angular.module("internationalPhoneNumber",[]).constant("ipnConfig",{allowExtensions:!1,autoFormat:!0,autoHideDialCode:!0,autoPlaceholder:!0,customPlaceholder:null,initialCountry:"",geoIpLookup:null,nationalMode:!0,numberType:"MOBILE",onlyCountries:void 0,preferredCountries:["us","gb"],skipUtilScriptDownload:!1,utilsScript:""}).directive("internationalPhoneNumber",["$timeout","ipnConfig",function(a,b){return{restrict:"A",require:"^ngModel",scope:{ngModel:"=",country:"=",geoIpLookup:"&"},link:function(c,d,e,f){var g,h,i,j,k;return f&&""!==d.val()&&a(function(){return d.intlTelInput("setNumber",d.val()),f.$setViewValue(d.val())},0),j=function(){return f.$setViewValue(d.val())},h=function(a){return a instanceof Array?a:a.toString().replace(/[ ]/g,"").split(",")},g=function(){var a,b,c,f;(b=e.readonly)&&(c="intl-tel-input-read-only",a=d.parents(".intl-tel-input:first"),a.find("select:first").attr("disabled",!0),a.find(".iti-arrow").hide(),f=a.find("span."+c),0===f.length&&""!==d.val()&&(f=angular.element("<span></span>"),f.attr("class",c),f.attr("style","padding-left: 38px"),d.hide(),d.after(f)),f.text(d.val()))},i=angular.copy(b),angular.forEach(i,function(a,b){var c;if(e.hasOwnProperty(b)&&angular.isDefined(e[b]))return c=e[b],"preferredCountries"===b?i.preferredCountries=h(c):"onlyCountries"===b?i.onlyCountries=h(c):i[b]="boolean"==typeof a?"true"===c:c}),i.geoIpLookup=c.geoIpLookup?c.geoIpLookup():null,k=c.$watch("ngModel",function(b){return c.$$postDigest(function(){return null!==b&&void 0!==b&&b.length>0&&("+"!==b[0]&&(b="+"+b),f.$modelValue=b),d.intlTelInput(i),a(function(){return d.intlTelInput("setNumber",b)}),i.skipUtilScriptDownload||void 0!==e.skipUtilScriptDownload||i.utilsScript||d.intlTelInput("loadUtils","/bower_components/intl-tel-input/lib/libphonenumber/build/utils.js"),k()})}),c.$watch("country",function(a){if(null!==a&&void 0!==a&&""!==a)return d.intlTelInput("setCountry",a)}),f.$formatters.push(function(a){return a?(d.intlTelInput("setNumber",a),g(),d.val()):a}),f.$parsers.push(function(a){return a?a.replace(/[^\d]/g,""):a}),f.$validators.internationalPhoneNumber=function(a){var b;return b=d.intlTelInput("getSelectedCountryData"),!(a&&(!b||b.dialCode!==a))||d.intlTelInput("isValidNumber")},d.on("blur keyup change",function(a){return c.$apply(j)}),d.on("$destroy",function(){return d.intlTelInput("destroy"),d.off("blur keyup change")})}}}])}).call(this);